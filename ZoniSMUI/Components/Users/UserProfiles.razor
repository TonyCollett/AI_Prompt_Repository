@inject IUserData userData
@attribute [Authorize]

@if (_user != null) {
    <MudPaper>
        <MudGrid>
            <MudItem xs="4">

            </MudItem>
            <MudItem xs="4">
                <MudPaper>
                    <MudText Typo="Typo.caption">Profile Picture Here</MudText>
                </MudPaper>
            </MudItem>
            <MudItem xs="4">

            </MudItem>

            <MudItem xs="4">
                <MudStack>
                    <MudTextField Value="@_user.FirstName" Label="First Name" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.LastName" Label="Last Name" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudCheckBox Checked="@_user.UserSettings.IsUserVIP" Label="VIP" Color="Color.Primary" />
                </MudStack>
            </MudItem>
            <MudItem xs="4">
                <MudPaper>
                    <MudTextField Value="@_user.DisplayName" Label="Display Name" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                </MudPaper>
            </MudItem>
            <MudItem xs="4">
                <MudStack>
                    <MudTextField Value="@_user.AddressLine1" Label="Address Line 1" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.AddressLine2" Label="Address Line 2" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.AddressLine3" Label="Address Line 3" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.City" Label="City" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.State" Label="State" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.Country" Label="Country" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                    <MudTextField Value="@_user.PostCode" Label="PostCode" Variant="Variant.Outlined" ReadOnly="true" Margin="Margin.Dense" />
                </MudStack>
            </MudItem>
        </MudGrid>
    </MudPaper>
}

@code {

    [Parameter]
    public string UserId { get; set; }

    private User _user { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _user =await userData.GetUserByBsonIdAsync(UserId);
    }

}
