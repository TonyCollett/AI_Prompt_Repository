@inject NavigationManager navManager

<MudDialog>
    <DialogContent>
    @if(Prompt != null){
    <MudCard Outlined="true">
        <MudCardHeader>
            <CardHeaderAvatar>
                <MudAvatar Color="Color.Secondary">GPT</MudAvatar>
            </CardHeaderAvatar>
            <CardHeaderContent>
                <MudText Typo="Typo.body1">@Prompt.Title</MudText>
            </CardHeaderContent>
            <CardHeaderActions>
                <MudIconButton OnClick="GoToPrompt" Icon="@Icons.Material.Filled.OpenInNew" Variant="Variant.Outlined" Color="Color.Primary" />
            </CardHeaderActions>
        </MudCardHeader>
        @* <MudCardMedia Image="images/pilars.jpg" Height="250" /> *@
        <MudCardContent>
            <MudText Typo="Typo.body2">@Prompt.Description</MudText>
        </MudCardContent>
        <MudCardActions>
            <MudTooltip Text="Favourite" Arrow="true" Placement="Placement.Bottom" Color="Color.Tertiary">
                <MudIconButton Icon="@Icons.Material.Outlined.Favorite" Color="Color.Default" />
            </MudTooltip>
            <MudTooltip Text="Share" Arrow="true" Placement="Placement.Bottom" Color="Color.Tertiary">
                <MudMenu Icon="@Icons.Material.Filled.Share" Color="Color.Secondary">
                    <MudMenuItem Icon="@Icons.Custom.Brands.Facebook" IconColor="Color.Primary">Facebook</MudMenuItem>
                    <MudMenuItem Icon="@Icons.Custom.Brands.Twitter" IconColor="Color.Primary">Twitter</MudMenuItem>
                    <MudMenuItem Icon="@Icons.Custom.Brands.Instagram" IconColor="Color.Primary">Instagram</MudMenuItem>
                    <MudMenuItem Icon="@Icons.Custom.Brands.Discord" IconColor="Color.Primary">Discord</MudMenuItem>
                </MudMenu>
            </MudTooltip>
            <MudTooltip Text="Report" Arrow="true" Placement="Placement.Bottom" Color="Color.Tertiary">
                <MudIconButton Icon="@Icons.Material.Filled.Report" Color="Color.Default" />
            </MudTooltip>
            <MudSpacer />
            <MudStack>
                <MudText Typo="Typo.subtitle2">Created: @Prompt.DateCreated.ToLocalTime().ToString("dd/MM/yyyy h:mm tt")</MudText>
            </MudStack>
        </MudCardActions>
    </MudCard>
    }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="Submit">Ok</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    [Parameter] public Prompt Prompt { get; set; }

    void Submit() => MudDialog.Close(DialogResult.Ok(true));
    void Cancel() => MudDialog.Cancel();

    void GoToPrompt()
    {
        navManager.NavigateTo($"/Prompt/{Prompt.Id}");
    }
}